import scipy.stats as stats
import numpy as np
import seaborn as sns
import pandas as pd
import matplotlib.pyplot as plt



# ********************************************* EDSR *********************************************
if 1:
    navie_psnr_rgb= [42.3617, 42.2483, 46.8167, 37.2652, 45.1487, 63.409, 36.1996, 51.0323, 47.7487, 40.0868, 47.9425, 43.1203, 39.9199, 51.2866, 49.4526, 61.8666, 51.4706, 56.4004, 38.04, 54.1844, 53.6496, 40.1452]
    linear_psnr_rgb= [31.2766, 31.9791, 44.2531, 36.6029, 44.911, 60.6837, 27.335, 42.0781, 28.2908, 31.4776, 27.2305, 28.7293, 30.4772, 40.6892, 31.7934, 59.9276, 47.5458, 55.1204, 28.1383, 54.1844, 53.4545, 39.5661]
    log_psnr_rg= []
    pu_psnr_rgb= [42.6047, 42.934, 47.1148, 37.7485, 45.3128, 63.409, 36.2016, 52.5951, 48.0133, 40.1125, 47.8372, 44.3279, 40.2301, 52.14, 51.4325, 62.0177, 51.9473, 56.4319, 37.976, 54.1951, 54.8418, 40.4956]
    pq_psnr_rgb= [42.7952, 43.7031, 47.6296, 37.819, 45.3175, 63.409, 36.3704, 52.9543, 49.3245, 40.7018, 48.4952, 44.7345, 40.3636, 52.6168, 52.5558, 61.988, 52.1529, 56.4287, 38.2368, 54.179, 55.2472, 40.5454]
    navie_psnr_y= [44.3126, 44.6994, 60.2547, 60.2108, 68.0638, 86.2484, 40.537, 51.5516, 50.775, 54.4545, 50.8824, 48.2229, 43.4566, 54.8353, 51.3997, 84.2931, 63.3531, 79.0725, 40.7857, 62.9934, 76.5973, 41.9227]
    linear_psnr_y= [34.934, 34.9704, 52.5787, 58.6471, 67.0358, 71.7078, 28.8777, 42.3375, 31.6713, 35.5501, 29.1067, 29.4355, 31.2191, 41.7057, 33.1029, 71.5051, 52.1898, 72.1087, 30.2978, 62.9934, 76.4023, 41.4572]
    log_psnr_y= []
    pu_psnr_y= [44.8151, 46.5037, 62.3287, 60.6939, 68.2345, 86.2484, 40.4852, 53.5236, 51.7713, 55.7155, 51.3155, 50.5356, 43.419, 57.7395, 53.9429, 84.4303, 66.062, 79.1094, 40.9863, 63.074, 77.7895, 42.2403]
    pq_psnr_y= [44.9224, 47.0132, 63.2518, 60.7643, 68.2393, 86.2484, 40.6258, 53.9379, 52.6408, 56.7475, 51.6904, 51.2, 43.5137, 58.2836, 54.8899, 84.4138, 67.8375, 79.1068, 41.1053, 62.9537, 78.195, 42.286]
    navie_cvvdp= [8.6396, 8.7445, 9.6188, 9.7385, 9.8731, 9.987, 8.2492, 9.2435, 9.2518, 9.4614, 9.3869, 9.0232, 8.6113, 9.4372, 9.276, 9.9706, 9.7047, 9.9648, 8.3687,]
    linear_cvvdp= [7.1142, 6.9423, 9.2767, 9.7136, 9.8607, 9.8907, 7.3931, 8.2909, 7.3717, 8.1232, 7.7942, 7.3115, 8.1655, 8.3715, 7.2113, 9.8725, 9.2715, 9.898, 7.0458, ]
    log_cvvdp= []
    pu_cvvdp= [8.7742, 9.0332, 9.7219, 9.7693, 9.8873, 9.987, 8.217, 9.4318, 9.3393, 9.5702, 9.4411, 9.2575, 8.5731, 9.6284, 9.4777, 9.9744, 9.8026, 9.9655, 8.4168, ]
    pq_cvvdp= [8.7803, 9.0715, 9.7442, 9.7692, 9.8873, 9.987, 8.2389, 9.4499, 9.3897, 9.6242, 9.4731, 9.3007, 8.5847, 9.6491, 9.5278, 9.9744, 9.8326, 9.9655, 8.4296,]

    # print(len(navie_psnr_rgb), len(linear_psnr_rgb), len(pu_psnr_rgb), len(pq_psnr_rgb  ))

    # Perform t-test
    t_statistic, p_value = stats.ttest_ind(navie_psnr_y, pq_psnr_y)
    print('t statistic:', t_statistic)
    print('p value:', p_value)

    navie_psnr_rgb = np.array(navie_psnr_rgb)
    linear_psnr_rgb = np.array(linear_psnr_rgb)
    pu_psnr_rgb = np.array(pu_psnr_rgb)
    pq_psnr_rgb = np.array(pq_psnr_rgb)
    print(np.mean(navie_psnr_rgb), np.mean(linear_psnr_rgb), np.mean(pu_psnr_rgb), np.mean(pq_psnr_rgb))
    psnr_rgb_df = pd.DataFrame({'navie_psnr_rgb': navie_psnr_rgb, 'linear_psnr_rgb': linear_psnr_rgb, 'pu_psnr_rgb': pu_psnr_rgb, 'pq_psnr_rgb': pq_psnr_rgb})


    navie_psnr_y = np.array(navie_psnr_y)
    linear_psnr_y = np.array(linear_psnr_y)
    pu_psnr_y = np.array(pu_psnr_y)
    pq_psnr_y = np.array(pq_psnr_y)
    print(np.mean(navie_psnr_y), np.mean(linear_psnr_y), np.mean(pu_psnr_y), np.mean(pq_psnr_y))
    psnr_y_df = pd.DataFrame({ 'navie_psnr_y': navie_psnr_y , 'linear_psnr_y': linear_psnr_y, 'pu_psnr_y': pu_psnr_y, 'pq_psnr_y': pq_psnr_y})

    navie_cvvdp = np.array(navie_cvvdp)
    linear_cvvdp = np.array(linear_cvvdp)
    pu_cvvdp = np.array(pu_cvvdp)
    pq_cvvdp = np.array(pq_cvvdp)
    print(np.mean(navie_cvvdp), np.mean(linear_cvvdp), np.mean(pu_cvvdp), np.mean(pq_cvvdp))
    cvvdp_df = pd.DataFrame({'navie_cvvdp': navie_cvvdp, 'linear_cvvdp': linear_cvvdp, 'pu_cvvdp': pu_cvvdp, 'pq_cvvdp': pq_cvvdp})


    sns.violinplot(data=psnr_rgb_df)
    plt.ylabel('psnr_rgb')
    plt.savefig('psnr_rgb.png')
    plt.clf()

    sns.violinplot(data=psnr_y_df)
    plt.ylabel('psnr_y')
    plt.savefig('psnr_y.png')
    plt.clf()

    sns.violinplot(data=cvvdp_df)
    plt.ylabel('cvvdp')
    plt.savefig('cvvdp.png')
    plt.clf()

# ********************************************* WDSR *********************************************
if 0:
    navie_psnr_rgb= [55.2193, 58.5961, 57.3916, 41.0566, 40.673, 40.8837, 58.2001, 48.41, 50.1071, 42.2467, 40.0702, 39.8958, 55.6785, 48.9122, 48.8632, 48.7195, 43.3138, 43.3488, 39.6008, 37.2628, 36.2732, 35.645, 36.4722, 35.7564, 64.7507, 69.6705, 67.8539, 46.6985, 42.1247, 41.9698, 60.5934, 64.3711, 67.1057, 63.213, 67.8201, 68.8118, 37.6651, 35.9065, 35.8762, 36.8632, 35.5927, 35.7801, 66.4835, 57.9735, 58.0717, 51.8008, 47.8337, 47.9337, 49.2742, 50.8573, 49.9674, 45.6331, 47.6325, 47.1421, 37.4006, 44.0789, 45.859, 36.6149, 42.791, 44.2465, 46.4838, 49.9537, 48.9282, 47.4119, 50.1232, 49.0699, 43.9127, 40.6913, 41.4437, 44.1479, 42.9418, 43.3615, 39.1408, 37.9875, 38.3283, 42.7109, 40.7974, 41.646, 50.7508, 50.4153, 50.2499, 49.4463, 50.8464, 50.4924, 48.475, 64.0951, 67.9944, 46.355, 52.0532, 52.9892, 70.1456, 60.1016, 57.5846, 70.1456, 59.8417, 57.4371, 49.162, 50.8381, 51.4038, 49.0533, 50.764, 51.4618, 57.5077, 58.5324, 59.0522, 53.0601, 57.6885, 58.6058, 37.9481, 40.1218, 39.9317, 37.8652, 40.0436, 39.7021, 54.701, 52.3711, 54.701, 52.3711, 55.9069, 77.3057, 50.8075, 57.4417, 41.6619, 38.7846, 41.6084, 38.7783]
    linear_psnr_rgb= [31.9544, 33.0542, 32.821, 26.3938, 26.9375, 26.8726, 41.7933, 35.0459, 33.0152, 29.4978, 28.0154, 27.2787, 45.2114, 39.3589, 39.1088, 40.0409, 35.2988, 35.2286, 37.5495, 35.5329, 34.5153, 33.1053, 34.485, 33.7931, 44.3633, 42.7035, 42.6414, 40.4625, 37.8238, 37.7397, 41.6623, 43.3522, 43.8984, 42.1902, 43.1981, 43.6351, 27.017, 26.3974, 25.4821, 29.3682, 28.1282, 26.9386, 38.1744, 48.9657, 49.0633, 31.5244, 33.617, 33.7534, 33.4069, 27.3252, 26.1936, 30.4992, 24.7749, 24.0675, 26.4116, 33.9079, 34.9042, 25.7523, 33.4585, 34.4899, 25.503, 28.3925, 26.718, 25.9332, 30.9116, 28.7101, 26.5015, 30.8031, 29.6657, 25.3388, 30.6494, 29.8363, 28.6573, 27.601, 26.897, 34.4008, 35.3232, 34.8264, 33.0857, 35.075, 34.3326, 32.5835, 36.0449, 35.051, 27.9516, 37.5318, 38.226, 26.0683, 31.147, 31.3301, 42.3793, 39.7442, 39.7504, 41.9961, 39.9426, 40.0352, 42.1047, 42.0906, 41.9959, 40.6809, 41.4038, 41.8618, 44.782, 41.8733, 41.2485, 41.0758, 40.62, 40.3092, 25.7793, 27.706, 27.4181, 26.6023, 29.17, 28.7447, 54.701, 52.3676, 54.701, 52.3676, 55.3675, 77.3057, 50.1939, 56.4332, 41.6184, 37.717, 41.5655, 37.712]
    log_psnr_rg= []
    pu_psnr_rgb= [51.8035, 55.9151, 54.5905, 37.7929, 37.0112, 37.1635, 54.3249, 44.0533, 42.9627, 36.3993, 34.4942, 34.0097, 54.9508, 46.62, 46.5412, 47.4829, 40.5826, 40.5575, 39.6274, 37.3344, 36.3654, 35.6949, 36.5393, 35.844, 64.7507, 62.3563, 61.9356, 46.6888, 42.0165, 41.8574, 60.5934, 64.3711, 67.1003, 63.213, 67.8201, 68.8118, 35.0385, 33.833, 33.5442, 33.8034, 33.3512, 33.0874, 66.5135, 57.8422, 57.9373, 48.294, 44.0702, 44.1468, 42.7444, 42.4055, 41.0087, 39.3272, 36.956, 36.2437, 34.0549, 43.1502, 44.8816, 33.0695, 42.0114, 43.605, 40.2534, 44.8406, 42.4876, 41.1483, 45.3119, 43.5352, 40.6006, 40.2996, 40.8645, 40.0199, 41.1758, 41.4135, 37.6203, 36.7531, 36.8946, 40.7617, 40.6335, 41.3414, 43.4487, 48.7727, 47.6804, 42.8439, 49.0762, 47.5299, 41.6373, 55.4714, 56.8799, 40.0088, 44.6971, 45.2821, 70.1046, 59.2773, 57.0533, 70.1046, 59.4886, 57.1792, 47.7688, 49.2908, 49.96, 47.3543, 49.0758, 50.185, 57.5044, 58.449, 58.9582, 52.9237, 57.4053, 58.3492, 34.7834, 37.7145, 37.527, 32.8747, 36.6425, 36.3184, 54.701, 52.3665, 54.701, 52.3688, 56.325, 75.793, 51.2299, 57.6311, 41.6913, 38.9799, 41.6375, 38.9733]
    pq_psnr_rgb= [54.1844, 58.6155, 57.2595, 40.6504, 40.3854, 40.5667, 58.3779, 48.5755, 50.1856, 42.549, 40.2718, 40.0879, 55.704, 49.0063, 48.9538, 48.7721, 43.7769, 43.8165, 40.067, 37.4686, 36.526, 36.2166, 36.7244, 36.0318, 64.7507, 69.0938, 67.4658, 46.797, 42.2608, 42.0979, 60.5934, 64.3711, 67.1057, 63.213, 67.8201, 68.8118, 37.0275, 35.5013, 35.4632, 36.437, 35.3407, 35.4946, 66.5136, 57.9756, 58.0738, 52.3906, 48.6518, 48.7427, 49.9331, 48.8298, 47.6504, 46.3254, 45.5093, 44.9353, 37.4944, 44.2907, 46.1644, 36.5693, 42.7962, 44.3054, 45.6276, 48.5935, 47.5302, 46.5495, 49.1677, 47.9273, 44.3447, 41.5153, 42.2208, 44.7852, 44.2711, 44.6181, 38.7395, 37.9853, 38.2884, 42.715, 41.2784, 42.1672, 50.2251, 50.5158, 50.3052, 49.3682, 50.9444, 50.535, 48.1774, 62.6098, 65.1468, 46.3952, 51.4507, 52.2176, 70.1426, 60.1223, 57.6328, 70.1426, 59.9254, 57.5207, 49.4111, 50.9319, 51.5258, 49.2962, 50.8673, 51.5825, 57.5134, 58.551, 59.0731, 53.0667, 57.7097, 58.6292, 37.3734, 39.5121, 39.3231, 37.6198, 39.728, 39.3291, 54.701, 52.3711, 54.701, 52.3711, 57.0492, 77.3057, 52.0026, 58.5454, 41.7259, 39.1875, 41.6717, 39.1806]
    navie_psnr_y= [58.1083, 61.9321, 60.3992, 42.5376, 42.9882, 43.2155, 67.2018, 55.0488, 53.0717, 44.8696, 42.7807, 41.8767, 78.581, 66.7458, 66.7198, 70.6341, 55.9083, 55.7115, 62.5465, 60.2105, 59.2209, 58.5885, 59.4198, 58.7041, 87.6252, 91.9225, 90.328, 69.6423, 65.0276, 64.8729, 83.433, 87.2299, 90.0005, 86.113, 90.7299, 91.7112, 40.6235, 40.2304, 39.3996, 45.0869, 42.1724, 41.1308, 89.4199, 77.3432, 77.386, 52.093, 48.4013, 48.5036, 53.5195, 52.7225, 51.6363, 50.6496, 48.9458, 48.3692, 51.2522, 61.329, 61.7424, 50.206, 65.4061, 66.8312, 49.3681, 53.2465, 51.2298, 50.5886, 55.4144, 52.8455, 47.641, 49.748, 50.1151, 46.3937, 49.1571, 49.2474, 42.3233, 42.0503, 41.8067, 52.1325, 53.8286, 52.8821, 52.6559, 60.9704, 58.9078, 50.9717, 61.3873, 59.0287, 51.6554, 66.8929, 74.2876, 48.3698, 53.7099, 54.9139, 93.0409, 82.1849, 79.9651, 93.0409, 82.554, 80.1828, 62.389, 62.7761, 66.291, 61.116, 62.3625, 66.3857, 80.2765, 81.2461, 81.7567, 75.7444, 80.3115, 81.2555, 40.3691, 41.9213, 41.7047, 41.1204, 45.7828, 45.1482, 63.8688, 61.2053, 63.8688, 61.2053, 78.8546, 100.2534, 73.7552, 80.3894, 43.1869, 40.664, 43.1334, 40.6557]
    linear_psnr_y= [32.7206, 33.7599, 33.5168, 27.502, 28.1326, 28.0502, 43.312, 36.48, 34.2303, 30.9591, 29.5385, 28.7106, 50.959, 42.4132, 42.2457, 44.5312, 38.1423, 38.0802, 45.7616, 52.8049, 51.9651, 41.2066, 49.4782, 49.2602, 54.2489, 47.9932, 47.9166, 53.2355, 44.9384, 44.8457, 48.5776, 47.7374, 48.0825, 49.3756, 48.328, 48.7166, 28.3823, 27.8426, 26.6713, 31.6387, 30.4118, 28.7339, 39.854, 51.3447, 51.423, 32.4695, 34.2803, 34.4023, 35.6466, 29.6953, 28.7727, 32.2436, 26.7631, 26.213, 30.9507, 40.8315, 41.4818, 30.0833, 39.1268, 39.7374, 27.2034, 30.0547, 28.2484, 27.4571, 32.8626, 30.4577, 27.0336, 34.9132, 32.2338, 25.762, 32.3791, 31.3062, 29.6553, 28.5304, 27.6674, 37.1615, 39.605, 38.1414, 33.948, 36.3381, 35.4986, 33.5039, 37.4096, 36.2952, 28.95, 38.3087, 39.131, 26.9351, 31.9039, 32.0797, 45.2207, 42.1929, 42.1089, 44.7055, 42.52, 42.5654, 46.0488, 45.9461, 45.5278, 44.1694, 45.3195, 45.6707, 53.3681, 51.84, 49.0334, 50.0491, 50.669, 48.6902, 26.9606, 28.616, 28.2576, 28.3754, 30.3708, 29.9714, 63.8688, 61.2043, 63.8688, 61.2043, 78.3152, 100.2534, 73.1417, 79.3809, 43.1456, 39.788, 43.0927, 39.7812]
    log_psnr_y= []
    pu_psnr_y= [56.5143, 59.7701, 58.3892, 41.3298, 41.6297, 41.7831, 59.8305, 50.0238, 47.9067, 42.055, 39.7538, 38.8515, 77.5402, 59.9138, 59.8891, 65.5317, 51.5959, 51.3327, 62.5723, 60.2821, 59.313, 58.6262, 59.4869, 58.7917, 87.6252, 80.2186, 79.325, 69.6327, 64.5433, 64.3974, 83.433, 87.2299, 89.9921, 86.113, 90.7299, 91.7112, 38.5221, 38.2, 37.3029, 41.0813, 39.8668, 38.5351, 89.4468, 74.2012, 74.2139, 50.2147, 46.2076, 46.2829, 47.7831, 46.7802, 45.6042, 44.5854, 42.3542, 41.6841, 44.0731, 58.0899, 58.3323, 42.7404, 61.6877, 63.6149, 44.8667, 49.3501, 46.6291, 46.1023, 50.6736, 48.5199, 43.867, 48.7499, 48.7882, 42.801, 45.8584, 45.8946, 40.59, 40.3534, 40.0909, 47.9439, 52.6338, 51.6219, 47.393, 56.9376, 54.4504, 46.6021, 57.5312, 54.4168, 46.058, 60.168, 62.0344, 43.8135, 47.8621, 48.6021, 92.2784, 76.1247, 75.4361, 92.2784, 81.9545, 79.7601, 57.9984, 58.3646, 60.5177, 56.2856, 57.7722, 61.4362, 80.272, 81.1419, 81.6395, 75.5715, 79.9543, 80.9319, 38.4478, 40.2662, 40.0472, 38.3609, 43.3783, 42.7651, 63.8688, 61.1944, 63.8688, 61.2043, 78.7503, 84.5385, 74.1777, 80.4984, 43.2407, 40.7366, 43.1866, 40.7283]
    pq_psnr_y= [57.5251, 62.4036, 60.7177, 42.5332, 43.0487, 43.235, 69.5304, 56.6877, 54.0005, 46.4886, 44.0938, 43.0988, 78.6065, 66.6703, 66.6425, 70.393, 57.1787, 57.0209, 63.0122, 60.4163, 59.4737, 59.1588, 59.6721, 58.9794, 87.6252, 91.0209, 89.6841, 69.7408, 65.1546, 64.9922, 83.433, 87.2299, 90.0005, 86.113, 90.7299, 91.7112, 40.0908, 39.8438, 39.0258, 45.0122, 42.0968, 40.9617, 89.4498, 78.3267, 78.3804, 53.3425, 50.0854, 50.1802, 56.3684, 49.7337, 48.3158, 53.4277, 46.8546, 46.1054, 50.9557, 63.5366, 64.2427, 49.5119, 65.0761, 66.6211, 48.2938, 51.0789, 49.503, 49.328, 53.2049, 51.0531, 48.387, 50.8118, 50.8027, 47.5199, 51.6197, 51.3712, 41.7976, 41.6576, 41.4313, 51.7435, 53.7559, 52.903, 54.3356, 61.6483, 59.6176, 52.8748, 62.0316, 59.7426, 51.0888, 66.0477, 70.1137, 48.6627, 53.6759, 54.6908, 93.0356, 80.9214, 79.1912, 93.0356, 82.6344, 80.2638, 64.2732, 64.9638, 67.5164, 62.7773, 64.5227, 68.2173, 80.2831, 81.2664, 81.7795, 75.7514, 80.3332, 81.2795, 39.9749, 41.5025, 41.2889, 41.629, 46.1328, 45.3286, 63.8688, 61.2053, 63.8688, 61.2053, 79.9969, 100.2534, 74.9504, 81.4932, 43.2832, 40.939, 43.2286, 40.9301]
    navie_cvvdp= [9.5466, 9.6603, 9.6156, 8.4055, 8.5068, 8.5345, 9.8201, 9.5003, 9.4234, 8.7256, 8.5287, 8.4476, 9.9532, 9.7599, 9.7599, 9.8921, 9.4489, 9.4426, 9.7688, 9.7561, 9.7308, 9.6914, 9.7317, 9.7136, 9.9906, 9.9958, 9.9943, 9.8885, 9.8351, 9.8357, 9.982, 9.988, 9.9921, 9.9864, 9.992, 9.993, 8.2564, 8.1923, 8.0384, 8.8849, 8.4917, 8.3384, 9.9842, 9.8892, 9.8895, 9.2708, 9.0238, 9.0348, 9.3986, 9.4108, 9.363, 9.2253, 9.1236, 9.085, 9.3054, 9.6378, 9.6381, 9.2454, 9.841, 9.859, 9.2664, 9.5717, 9.4567, 9.3413, 9.6011, 9.493, 9.0068, 9.0318, 9.0729, 8.9101, 9.0588, 9.0722, 8.5039, 8.4181, 8.3761, 9.3603, 9.3227, 9.2966, 9.381, 9.6153, 9.5731, 9.2386, 9.6063, 9.5641, 9.3045, 9.7942, 9.8929, 9.0758, 9.3996, 9.4449, 9.9934, 9.9699, 9.9539, 9.9934, 9.9729, 9.9552, 9.6685, 9.6939, 9.7702, 9.6409, 9.6871, 9.7741, 9.9678, 9.9766, 9.978, 9.9522, 9.9717, 9.975, 8.2721, 8.5066, 8.4689, 8.5034, 8.8594, 8.826, 9.7845, 9.7261, 9.7845, 9.7261, 9.9104, 9.9975, 9.8725, 9.9251, 8.7482, 8.4569, 8.7436, 8.4566]
    linear_cvvdp= [8.4003, 8.5988, 8.5213, 6.4911, 6.8778, 6.8226, 9.1401, 8.3087, 7.9075, 7.0751, 6.6003, 6.3154, 9.4828, 8.9821, 8.9672, 9.1221, 8.5217, 8.5086, 9.177, 9.5727, 9.5438, 8.8041, 9.4231, 9.4165, 9.6058, 9.3517, 9.3478, 9.5752, 9.2062, 9.2, 9.3732, 9.3326, 9.3524, 9.4097, 9.3591, 9.3792, 7.4537, 7.4399, 7.2453, 7.3709, 7.439, 7.1751, 8.9557, 9.4968, 9.5083, 8.0357, 7.7828, 7.7934, 8.1587, 7.6661, 7.5567, 7.6034, 6.8237, 6.7438, 7.6311, 8.7929, 8.8532, 7.418, 8.637, 8.6995, 7.5733, 8.0586, 7.7741, 7.8006, 8.5523, 8.3625, 7.4037, 8.2341, 8.048, 6.836, 7.6052, 7.5033, 7.7617, 7.7175, 7.6621, 8.367, 8.6437, 8.5657, 7.8248, 8.528, 8.4051, 7.7488, 8.6298, 8.4801, 7.2293, 8.6535, 8.7566, 6.3885, 7.6672, 7.8775, 9.2175, 9.0399, 9.042, 9.1784, 9.0643, 9.0769, 9.1583, 9.2337, 9.2149, 9.0204, 9.1677, 9.2251, 9.5701, 9.5228, 9.3978, 9.4373, 9.4709, 9.379, 7.239, 7.5711, 7.5168, 6.3886, 7.6724, 7.5778, 9.7845, 9.7261, 9.7845, 9.7261, 9.8921, 9.9975, 9.8388, 9.8879, 8.7435, 8.3279, 8.7389, 8.3284]
    log_cvvdp= []
    pu_cvvdp= [9.5596, 9.6857, 9.6412, 8.3948, 8.4841, 8.507, 9.6986, 9.3782, 9.2551, 8.6871, 8.4205, 8.3134, 9.9579, 9.6569, 9.6569, 9.8265, 9.3539, 9.3406, 9.7957, 9.7954, 9.7793, 9.7331, 9.7715, 9.7615, 9.9906, 9.9609, 9.9589, 9.8902, 9.8359, 9.8353, 9.982, 9.988, 9.9921, 9.9864, 9.992, 9.993, 8.0249, 7.9955, 7.8311, 8.5579, 8.34, 8.1386, 9.9844, 9.8894, 9.8896, 9.2982, 9.0528, 9.06, 9.1965, 9.206, 9.1072, 8.9279, 8.7658, 8.677, 8.8748, 9.6573, 9.659, 8.7695, 9.7731, 9.8165, 8.9557, 9.37, 9.0696, 8.9878, 9.4408, 9.2235, 8.5487, 9.1864, 9.224, 8.4975, 9.0848, 9.0981, 8.2761, 8.2494, 8.1908, 9.2288, 9.3578, 9.2948, 9.2099, 9.5997, 9.5392, 9.1398, 9.5949, 9.5134, 9.148, 9.7018, 9.732, 8.9667, 9.2352, 9.2734, 9.9933, 9.9434, 9.9367, 9.9933, 9.9729, 9.9554, 9.597, 9.6492, 9.6881, 9.5569, 9.6407, 9.7096, 9.9681, 9.9768, 9.9782, 9.952, 9.9717, 9.9752, 8.0632, 8.3307, 8.2877, 8.3092, 8.8388, 8.7831, 9.7845, 9.726, 9.7845, 9.7261, 9.907, 9.9478, 9.8901, 9.9278, 8.7586, 8.4887, 8.7539, 8.4882]
    pq_cvvdp= [9.6192, 9.7351, 9.6922, 8.5484, 8.6127, 8.639, 9.8909, 9.6773, 9.5866, 9.0637, 8.8588, 8.783, 9.9601, 9.8024, 9.8023, 9.8974, 9.5896, 9.5858, 9.813, 9.7828, 9.7662, 9.7542, 9.7657, 9.7535, 9.9906, 9.9956, 9.9941, 9.899, 9.8542, 9.854, 9.982, 9.988, 9.9921, 9.9864, 9.992, 9.993, 8.125, 8.0845, 7.9199, 8.9111, 8.5511, 8.3471, 9.9844, 9.9202, 9.9206, 9.4265, 9.2738, 9.2809, 9.5999, 9.4495, 9.385, 9.4851, 9.1586, 9.1146, 9.4318, 9.8123, 9.818, 9.3789, 9.8623, 9.8773, 9.4019, 9.5514, 9.4303, 9.4315, 9.627, 9.483, 9.1741, 9.2917, 9.335, 9.1259, 9.393, 9.4061, 8.3798, 8.3653, 8.3164, 9.4067, 9.5174, 9.4433, 9.5886, 9.7259, 9.7037, 9.4901, 9.7176, 9.6921, 9.4797, 9.8191, 9.8745, 9.2925, 9.5134, 9.5417, 9.9934, 9.96, 9.9513, 9.9934, 9.9745, 9.9586, 9.7722, 9.7857, 9.8343, 9.7452, 9.7794, 9.8457, 9.9679, 9.9772, 9.9787, 9.9524, 9.9723, 9.9757, 8.1831, 8.4142, 8.3752, 8.713, 9.0129, 8.9499, 9.7845, 9.7261, 9.7845, 9.7261, 9.9377, 9.9975, 9.91, 9.9422, 8.7663, 8.527, 8.7615, 8.5264]

    # print(len(navie_psnr_rgb), len(linear_psnr_rgb), len(pu_psnr_rgb), len(pq_psnr_rgb  ))

    # Perform t-test
    t_statistic, p_value = stats.ttest_ind(linear_cvvdp, pq_cvvdp)
    print('t statistic:', t_statistic)
    print('p value:', p_value)

    navie_psnr_rgb = np.array(navie_psnr_rgb)
    linear_psnr_rgb = np.array(linear_psnr_rgb)
    pu_psnr_rgb = np.array(pu_psnr_rgb)
    pq_psnr_rgb = np.array(pq_psnr_rgb)
    print(np.mean(navie_psnr_rgb), np.mean(linear_psnr_rgb), np.mean(pu_psnr_rgb), np.mean(pq_psnr_rgb))
    psnr_rgb_df = pd.DataFrame({'navie_psnr_rgb': navie_psnr_rgb, 'linear_psnr_rgb': linear_psnr_rgb, 'pu_psnr_rgb': pu_psnr_rgb, 'pq_psnr_rgb': pq_psnr_rgb})


    navie_psnr_y = np.array(navie_psnr_y)
    linear_psnr_y = np.array(linear_psnr_y)
    pu_psnr_y = np.array(pu_psnr_y)
    pq_psnr_y = np.array(pq_psnr_y)
    print(np.mean(navie_psnr_y), np.mean(linear_psnr_y), np.mean(pu_psnr_y), np.mean(pq_psnr_y))
    psnr_y_df = pd.DataFrame({ 'navie_psnr_y': navie_psnr_y , 'linear_psnr_y': linear_psnr_y, 'pu_psnr_y': pu_psnr_y, 'pq_psnr_y': pq_psnr_y})

    navie_cvvdp = np.array(navie_cvvdp)
    linear_cvvdp = np.array(linear_cvvdp)
    pu_cvvdp = np.array(pu_cvvdp)
    pq_cvvdp = np.array(pq_cvvdp)
    print(np.mean(navie_cvvdp), np.mean(linear_cvvdp), np.mean(pu_cvvdp), np.mean(pq_cvvdp))
    cvvdp_df = pd.DataFrame({'navie_cvvdp': navie_cvvdp, 'linear_cvvdp': linear_cvvdp, 'pu_cvvdp': pu_cvvdp, 'pq_cvvdp': pq_cvvdp})


    sns.violinplot(data=psnr_rgb_df)
    plt.ylabel('wdsr_psnr_rgb')
    plt.savefig('wdsr_psnr_rgb.png')
    plt.clf()

    sns.violinplot(data=psnr_y_df)
    plt.ylabel('wdsr_psnr_y')
    plt.savefig('wdsr_psnr_y.png')
    plt.clf()

    sns.violinplot(data=cvvdp_df)
    plt.ylabel('wdsr_cvvdp')
    plt.savefig('wdsr_cvvdp.png')
    plt.clf()



# ********************************************* DnCNN *********************************************
if 0:
    navie_psnr_rgb= []
    linear_psnr_rgb= [45.3063, 41.145, 48.0028, 36.449, 44.8135, 62.9603, 30.1688, 59.8898, 28.1732, 31.1353, 28.3828, 28.766, 35.7284, 49.3166, 38.8066, 60.0217, 49.0434, 54.6459, 30.5237, 54.24, 53.0709, 39.5226]
    log_psnr_rg= []
    pu_psnr_rgb= [68.6411, 41.1965, 48.4424, 38.4425, 45.1201, 63.0932, 30.4402, 61.0794, 28.2675, 32.8559, 28.3881, 29.3291, 36.3005, 50.1633, 38.8077, 60.4938, 51.7034, 55.2396, 30.5533, 57.5505, 56.1019, 41.7249]
    pq_psnr_rgb= [64.7715, 41.237, 48.4149, 38.8939, 45.5637, 62.9739, 30.5816, 62.263, 29.7226, 33.0245, 28.6596, 29.7386, 36.6074, 50.3382, 38.8214, 60.4353, 52.6349, 55.1868, 31.2749, 63.4621, 58.9449, 47.1125]
    navie_psnr_y= []
    linear_psnr_y= [66.541, 46.7088, 68.3437, 59.3963, 67.761, 85.9045, 32.5945, 66.2019, 31.9422, 38.6396, 30.9281, 29.8528, 37.8299, 52.8527, 42.3161, 82.9653, 71.7756, 77.5855, 33.1932, 63.0398, 76.0186, 41.4595]
    log_psnr_y= []
    pu_psnr_y= [89.1848, 46.7097, 68.5786, 61.3897, 68.0676, 86.0373, 32.6324, 66.2527, 31.9653, 38.6827, 30.9293, 29.9297, 37.9152, 52.8863, 42.3162, 83.4369, 74.2615, 78.1779, 33.1994, 63.2814, 79.0497, 43.6199]
    pq_psnr_y= [70.5807, 46.7104, 68.5641, 61.8409, 68.5112, 85.9181, 32.6579, 66.2649, 32.3632, 38.7051, 30.9755, 30.0009, 37.9694, 52.9117, 42.3187, 83.3784, 75.089, 78.125, 33.3345, 69.9575, 81.8926, 48.8492]
    navie_cvvdp= []
    linear_cvvdp= [9.8953, 8.5985, 9.7998, 9.7237, 9.8732, 9.9864, 7.6133, 9.6684, 7.3907, 8.5295, 7.9677, 7.4293, 8.5637, 9.1585, 8.3968, 9.9654, 9.8815, 9.9542, 7.4043]
    log_cvvdp= []
    pu_cvvdp= [9.9886, 8.5985, 9.7997, 9.8232, 9.8882, 9.9865, 7.6501, 9.6684, 7.4002, 8.5333, 7.9679, 7.4569, 8.6151, 9.1634, 8.3968, 9.9645, 9.8996, 9.9599, 7.4063]
    pq_cvvdp= [9.8892, 8.5985, 9.7996, 9.8429, 9.8987, 9.987, 7.6621, 9.6685, 7.4825, 8.5386, 7.985, 7.4842, 8.64, 9.1665, 8.3973, 9.9635, 9.9032, 9.9607, 7.4388]

    # print(len(linear_psnr_rgb), len(pu_psnr_rgb), len(pq_psnr_rgb))

    # Perform t-test
    t_statistic, p_value = stats.ttest_ind(linear_cvvdp, pu_cvvdp)
    print('t statistic:', t_statistic)
    print('p value:', p_value)

    navie_psnr_rgb = np.array(navie_psnr_rgb)
    linear_psnr_rgb = np.array(linear_psnr_rgb)
    pu_psnr_rgb = np.array(pu_psnr_rgb)
    pq_psnr_rgb = np.array(pq_psnr_rgb)
    print(np.mean(linear_psnr_rgb), np.mean(pu_psnr_rgb), np.mean(pq_psnr_rgb))
    psnr_rgb_df = pd.DataFrame({'linear_psnr_rgb': linear_psnr_rgb, 'pu_psnr_rgb': pu_psnr_rgb, 'pq_psnr_rgb': pq_psnr_rgb})


    navie_psnr_y = np.array(navie_psnr_y)
    linear_psnr_y = np.array(linear_psnr_y)
    pu_psnr_y = np.array(pu_psnr_y)
    pq_psnr_y = np.array(pq_psnr_y)
    print(np.mean(linear_psnr_y), np.mean(pu_psnr_y), np.mean(pq_psnr_y))
    psnr_y_df = pd.DataFrame({ 'linear_psnr_y': linear_psnr_y, 'pu_psnr_y': pu_psnr_y, 'pq_psnr_y': pq_psnr_y})

    navie_cvvdp = np.array(navie_cvvdp)
    linear_cvvdp = np.array(linear_cvvdp)
    pu_cvvdp = np.array(pu_cvvdp)
    pq_cvvdp = np.array(pq_cvvdp)
    print(np.mean(linear_cvvdp), np.mean(pu_cvvdp), np.mean(pq_cvvdp))
    cvvdp_df = pd.DataFrame({'linear_cvvdp': linear_cvvdp, 'pu_cvvdp': pu_cvvdp, 'pq_cvvdp': pq_cvvdp})


    sns.violinplot(data=psnr_rgb_df)
    plt.ylabel('dncnn_psnr_rgb')
    plt.savefig('dncnn_psnr_rgb.png')
    plt.clf()

    sns.violinplot(data=psnr_y_df)
    plt.ylabel('dncnn_psnr_y')
    plt.savefig('dncnn_psnr_y.png')
    plt.clf()

    sns.violinplot(data=cvvdp_df)
    plt.ylabel('dncnn_cvvdp')
    plt.savefig('dncnn_cvvdp.png')
    plt.clf()



"""
------------------- super-res -------------------
EDSR
t statistic: -6.083389863175833
p value: 6.6656545444680144e-09
49.23061058823528 39.90405764705882 49.296732941176465 49.83362235294118
60.63825294117646 48.269279999999995 60.97222823529411 61.861292941176465
9.459194623655915 8.832582795698924 9.47511075268817 9.536794623655911

WDSR
t statistic: -10.671725507566991
p value: 3.740696824621314e-22
49.16300873015873 35.870330952380954 46.611673015873016 49.08832857142857
60.58566904761904 40.18233174603175 57.61309523809524 60.78958015873015
9.410942857142855 8.453744444444444 9.32972857142857 9.480904761904764


------------------- denoise -------------------
DnCNN
t statistic: -0.0876360620942365
p value: 0.930236659476432
45.205743999999996 46.3487544 46.355635199999995
58.762662399999996 59.5669656 59.586996799999994
9.1246272 9.135019199999999 9.124940800000001
"""
